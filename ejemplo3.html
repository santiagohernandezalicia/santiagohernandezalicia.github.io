<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
    function Generar(){
        //borra todas las columnas de la tabla
        document.getElementById("cuadrado").innerHTML = " ";
        //agregamos renglones y columnas
        var tabla= document.getElementById("cuadrado");
        for (let r = 0; r < document.getElementById("lados").value; r++) {
           var nuevafila = tabla.insertRow(-1);
           for (let c = 0;c < document.getElementById("lados").value; c++) {
           var celda = nuevafila.insertCell(-1);
            //celda.innerHTML = `${r},${c} `;
            var entrada = document.createElement("input");
            entrada.setAttribute("type","number");
            entrada.setAttribute("required","required");
            entrada.setAttribute("value",aleatorio());
            entrada.setAttribute("style","width:50px; color:blue");
            celda.appendChild(entrada);
           }   
           var celda =nuevafila.insertCell(-1);
           celda.innerHTML="suma"
        }
        nuevafila = tabla.insertRow(-1);
        for (c=0; c<lado+1;c++){
            celda = nuevafila.insertCell(-1);
            celda.innerHTML= "suma";
        }
        tabla.rows[lado].cells[c-1].innerHTML ="diagonal";
    }
    function aleatorio(){
               return Math.floor(Math.random()*100);
    }
    
    function EjemploMagico(){
        var tabla = document.getElementById("cuadrado");
        for (let r = 0; r < document.getElementById("lados").value; r++) {
           for (let c = 0;c < document.getElementById("lados").value; c++) {
            tabla.rows[r].cells[c].querySelector('input').value=
            document.getElementById("lados").value;
           }
        }
        document.getElementById("verificar").innerHTML = "Si es cuadrado magico";
        document.getElementById("verificar").style ="color: blue;";

    }
    function EjemploCuadrado(){
        var tabla = document.getElementById("cuadrado");
        var r= 0, c=0;
        for (let r = 0; r < document.getElementById("lados").value; r++) {
           for (let c = 0;c < document.getElementById("lados").value; c++) {
            tabla.rows[r].cells[c].querySelector('input').value=
           aleatorio();
           }
        }
        tabla.rows[r-1].cells[c-1].querySelector('input').value = -1;
        document.getElementById("verificar").innerHTML = "Si es cuadrado magico";
        document.getElementById("verificar").style ="color: crimson;";
    }
    </script>
</head>
<body>
    <p><a href="index.html"><button> Regresar al Menú</button></a></p>
    <h1>Cuadrado magico</h1>
    Definicion:es una disposición de números enteros en una cuadrícula de orden nxn,
    donde la suma de los números en cada fila, columna y diagonal principal es la misma.
    Este número se conoce como número mágico.

    <br> 
   <p> seleccione el tamaño del Cuadrado:
    <select id="lados">
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>

    </select>
    <input type="button" value="generar" onclick="Generar()">
    <input type="button" value="calcular">
    <input type="button" value="Ejemplo de cuadrado" onclick="EjemploCuadrado">
    <input type="button" value="Ejemplo de cuadrado NO magico" onclick="EjemploMagico">
    <table border="0.5" id="cuadrado" style="border-collapse:collapse;"></table>
    <h1 id="verificar" style="color:crimson;">No es cuadrado magico</h1>
</p>
</body>
</html>